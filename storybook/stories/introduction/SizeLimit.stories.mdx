import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Introduction/Ограничение размера библиотеки"
      parameters={{
        previewTabs: {
          canvas: {
            hidden: true,
          },
        },
      }} />

# Ограничение размера библиотеки

## Ограничение размера библиотеки

Для проверки размера библиотеки мы используем инструмент [size-limit](https://github.com/ai/size-limit).

Он автоматически запускается в **pipeline** (_dev ветка_) на этапе "Tests" в job **review:compare-bundle-size**.
В рамках данной job происходит сравнение текущего размера библиотеки с размером библиотеки из master ветки.

Если текущий размер превышает максимальный порог рассчитываемый по формуле: `размер библиотеки из мастер ветки + 1.5 Kb`, то job завершается с ошибкой (сравниваемые размеры можно увидеть в консоли job).

В этом случае вам необходимо принять меры по уменьшению текущего размера, после чего попросить @mp_ui_kit_core репозитория перезапустить job (канал в mattermost - [~mp-ui-kit](https://msg.o3.ru/ozon/channels/mp-ui-kit
)).

_*Данная job также может завершиться с ошибкой в случае, когда в мастер ветке нет информации о текущем размере библиотеки (отсутствует файл "bundle_size_in_byte.txt" или файл "bundle_icons_size_in_byte.txt")_
